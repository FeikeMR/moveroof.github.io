import{a as Y,e as se,t as E,b as I}from"./B-FElII2.js";import"./CU8CDMvg.js";import{b as re,h as z,a as F,e as ie,f as J,G as le,M as ne,L as de,s as oe,j as ve,D as ce,P as Q,a5 as t,a4 as u,a6 as e,a9 as j,R as V,k as v,aH as me,a8 as G,a7 as fe,$ as ge,aI as _e,ay as K,l as pe,ab as he}from"./BPB6zGR0.js";import{s as C}from"./CXBMni9p.js";import{i as L}from"./B9bQSa7m.js";import{e as W,i as X}from"./BeVkuMN_.js";import{e as Z}from"./CC-Vp8pk.js";import{s as A}from"./Bjwh0b6H.js";import{i as $}from"./Bk6LkYh5.js";import{p as c}from"./dRWcjXu1.js";import{c as ee}from"./BgNj6qsk.js";import{a as ue}from"./BfJPdjCu.js";import{S as be}from"./oyXKRfIe.js";function ke(H,s,w,R,_){var p=H,f="",n;re(()=>{if(f===(f=s()??"")){z&&F();return}n!==void 0&&(ce(n),n=void 0),f!==""&&(n=ie(()=>{if(z){J.data;for(var a=F(),y=a;a!==null&&(a.nodeType!==8||a.data!=="");)y=a,a=le(a);if(a===null)throw ne(),de;Y(J,y),p=oe(a);return}var h=f+"",d=se(h);Y(ve(d),d.lastChild),p.before(d)}))})}var ye=E('<div class="template-label svelte-1q2rre9"><img src="/visuals/icons/document-icon-orange.svg" alt="Template Icon" class="svelte-1q2rre9"></div>'),Ie=E('<p class="white svelte-1q2rre9"> </p>'),Ce=E('<div class="stage-element-buttons svelte-1q2rre9"></div>'),Ee=E('<div class="stage-element"><div><img class="stage-element-header-chevron" src="/visuals/icons/chevron-dark.svg"> <h5> </h5> <!></div> <div><!> <div class="stage-article"><!></div></div></div>');function He(H,s){Q(s,!1);let w=c(s,"elementId",8,""),R=c(s,"title",8,""),_=c(s,"templates",24,()=>[]),p=c(s,"articleHtml",8,""),f=c(s,"isOpen",8,!1);const n=ee();function a(r){r.stopPropagation(),n("toggleElement",{elementId:w()})}function y(r,m,T){r.stopPropagation();const i=document.createElement("a");i.href=m,i.download=T||"document.pdf",i.target="_blank",document.body.appendChild(i),i.click(),document.body.removeChild(i)}$();var h=Ee(),d=t(h),b=u(t(d),2),k=t(b,!0);e(b);var x=u(b,2);{var P=r=>{var m=ye();I(r,m)};L(x,r=>{_()&&_().length>0&&r(P)})}e(d);var O=u(d,2),S=t(O);{var B=r=>{var m=Ce();W(m,5,_,X,(T,i)=>{be(T,{$$events:{click:o=>y(o,v(i).fileUrl,v(i).fileName)},children:(o,l)=>{var g=Ie(),N=t(g,!0);e(g),j(()=>C(N,v(i).labelText)),I(o,g)},$$slots:{default:!0}})}),e(m),I(r,m)};L(S,r=>{_()&&_().length>0&&r(B)})}var D=u(S,2),q=t(D);ke(q,p),e(D),e(O),e(h),j(()=>{ue(h,"id",w()),A(d,`stage-element-header ${(f()?"open":"")??""}`),C(k,R()),A(O,`stage-element-content ${(f()?"show":"")??""} svelte-1q2rre9`)}),Z("click",d,a),I(H,h),V()}var we=E('<p class="template-label-text"><b> </b></p> <div class="template-label-icon"><p> </p> <img src="/visuals/icons/document-icon-dark.svg"></div>',1),xe=E('<div class="stage"><div><div class="stage-head-name"><h4 class="secondary"> </h4></div> <div class="stage-head-icons"><!> <img class="stage-head-chevron" src="/visuals/icons/chevron-dark.svg"></div></div> <div><div class="stage-description"><p> </p></div> <div class="stage-content"></div></div></div>');function Me(H,s){Q(s,!1);let w=c(s,"stageId",8,""),R=c(s,"title",8,""),_=c(s,"description",8,""),p=c(s,"templateCount",8,0),f=c(s,"elements",24,()=>[]),n=c(s,"isOpen",8,!1),a=fe(null);const y=ee();function h(){y("toggleStage",{stageId:w()})}function d(o){const{elementId:l}=o.detail;v(a)===l?G(a,null):G(a,l)}me(()=>ge(n()),()=>{n()||G(a,null)}),_e(),$();var b=xe(),k=t(b),x=t(k),P=t(x),O=t(P,!0);e(P),e(x);var S=u(x,2),B=t(S);{var D=o=>{var l=we(),g=he(l),N=t(g),te=t(N);e(N),e(g);var M=u(g,2),U=t(M),ae=t(U);e(U),K(2),e(M),j(()=>{C(te,`+ ${p()??""} template`),C(ae,`+${p()??""}`)}),I(o,l)};L(B,o=>{p()>0&&o(D)})}K(2),e(S),e(k);var q=u(k,2),r=t(q),m=t(r),T=t(m,!0);e(m),e(r);var i=u(r,2);W(i,5,f,X,(o,l)=>{const g=pe(()=>v(a)===v(l).elementId);He(o,{get elementId(){return v(l).elementId},get title(){return v(l).title},get templates(){return v(l).templates},get articleHtml(){return v(l).articleHtml},get isOpen(){return v(g)},$$events:{toggleElement:d}})}),e(i),e(q),e(b),j(()=>{A(k,`stage-head ${(n()?"open":"")??""}`),C(O,R()),A(q,`stage-information ${(n()?"show":"")??""}`),C(T,_())}),Z("click",k,h),I(H,b),V()}export{Me as S};
